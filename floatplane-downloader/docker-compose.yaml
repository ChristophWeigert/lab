services:
  floatplane-downloader:
    image: inrix/floatplane-downloader:dev@sha256:d0edb83edf6cd4dde1246c531de492d19ce5ed57811d931b36525c0c692df30d
    container_name: floatplane-downloader
    environment:
      - headless=true
      - username=$username
      - password=$password
      - token=$token
    volumes:
      - floatplane-downloader:/fp/db
      - media_floatplane_videos:/fp/videos
    restart: unless-stopped

volumes:
  floatplane-downloader: {}
  media_floatplane_videos:
    driver_opts:
      type: "nfs"
      o: "nfsvers=4,addr=192.168.1.14,rw"
      device: ":/mnt/pool-main/media/floatplane_videos"
